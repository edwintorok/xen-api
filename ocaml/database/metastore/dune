; Conventions:
;
;   *  cannot depend on 'xapi_database' or 'xapi_internal': we may want to use the
;   metastore as a backend for XAPI's database in the future
;
;   * libraries that are only used by executables and tests have no
;   'public_name', and are part of the 'xapi' package
;
;   * should not be part of xapi-types because xapi-client also depends on that

(library
  (name xapi_metastore)
  (modes best)
  (libraries
    (re_export fmt)
    (re_export result)
    (re_export uri)
    astring
    base64
    forkexec
    fpath
    ipaddr
    logs
    mtime
    mtime.clock.os
    rpclib.core
    rpclib.json
    rresult
    uuidm
    xapi-stdext-unix
    threads.posix
  )
  (modules_without_implementation types)
  (preprocess (per_module ((pps ppx_deriving_rpc) Serialization Config_field Config)))
)

(documentation
  (package xapi)
)
