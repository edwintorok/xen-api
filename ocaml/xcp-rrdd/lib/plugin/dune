(library
  (name rrdd_plugin_base)
  (public_name rrdd-plugin.base)
  (flags (:standard -bin-annot))
  (wrapped false)
  (modules utils reporter)
  (libraries
    astring
    forkexec
    xapi-stdext-pervasives
    xapi-stdext-threads
    xapi-stdext-unix
    threads.posix
    xapi_rrd
    rrd-transport.file
    rrd-transport.lib
    xapi_idl_rrd
    xapi-log
    xenstore_transport.unix
    xenstore.unix
  )
)

(library
  (name rrdd_plugin_local)
  (public_name rrdd-plugin.local)
  (flags (:standard -bin-annot))
  (wrapped false)
  (modules reporter_local)
  (libraries
    rrdd-plugin.base
    rrd-transport.file
    rrd-transport.lib
    threads.posix
    xapi_idl_rrd
    xapi-log
    xapi-stdext-threads
    xapi-stdext-unix
  )
)

(library
  (name rrdd_plugin)
  (public_name rrdd-plugin)
  (flags (:standard -bin-annot))
  (wrapped false)
  (modules rrdd_plugin)
  (libraries
    rrdd-plugin.base
    rrdd-plugin.local
    rrd-transport
    threads.posix
    xapi_idl_rrd
    xapi_idl_rrd_interface_types
    xapi-log
    xapi_rrd
  )
)

