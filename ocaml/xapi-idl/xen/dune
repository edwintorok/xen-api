(library
 (name xapi_idl_xen_interface_types)
 (modules xenops_types device_number)
 (libraries
   astring
   result
   rpclib.core
   rresult
   sexplib
   sexplib0
   threads
   xapi-idl
   xapi_stdext_std
 )
 (wrapped false)
 (preprocess (pps ppx_deriving_rpc ppx_sexp_conv)))

(library
 (name xapi_idl_xen_interface)
 (modules xenops_interface)
 (libraries
   result
   rpclib.core
   rresult
   xapi-idl
   xapi_idl_xen_interface_types
   xapi-log
 )
 (flags (:standard -w -27))
 (wrapped false)
 (preprocess (pps ppx_deriving_rpc)))

(library
 (name xapi_idl_xen)
 (modules (:standard \ device_number xenops_interface xenops_types))
 (libraries
   result
   rpclib.core
   rpclib.json
   threads
   xapi-idl
   xapi_idl_xen_interface
 )
 (wrapped false))
